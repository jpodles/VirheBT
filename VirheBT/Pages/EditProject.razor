@*@page "/projects/{ProjectId:int}/editproject"*@
<Modal @ref="editProjectModal">
    <AuthorizeView>
        <Authorized>

            <ModalContent Size="ModalSize.Large">
                <ModalHeader>

                    Edit @Name

                </ModalHeader>
                <ModalBody>


                    <Container>
                    
                        <Row>
                            <Column ColumnSize="ColumnSize.Is6">
                                <Field>
                                    <FieldLabel>
                                        Project Name:
                                    </FieldLabel>
                                    <FieldBody>
                                        <TextEdit @bind-Text="@Name" Placeholder="Name..." />
                                    </FieldBody>
                                </Field>
                            </Column>
                            <Column ColumnSize="ColumnSize.Is6">
                                <Field>
                                    <FieldLabel>
                                        Maintainer:
                                    </FieldLabel>
                                    <FieldBody>

                                        <TextEdit Placeholder="@context.User.Identity.Name" Disabled="true" />
                                    </FieldBody>
                                </Field>
                            </Column>
                        </Row>
                        <Row>
                            <Column ColumnSize="ColumnSize.Is12">
                                <Field>
                                    <FieldLabel>
                                        Description:
                                    </FieldLabel>
                                    <FieldBody>
                                        <MemoEdit Rows="5" @bind-Text="@Description" />
                                    </FieldBody>
                                </Field>
                            </Column>
                        </Row>
                    </Container>
                </ModalBody>
                <ModalFooter>
                    <Button Color="Color.Primary" Clicked="@OnEditAsync" Margin="Margin.Is1.OnX"> Edit project</Button>

                    <Button Color="Color.Secondary" Type="ButtonType.Link" To="@($"projects/{ProjectId}")"> Cancel</Button>
                </ModalFooter>
            </ModalContent>

        </Authorized>
    </AuthorizeView>
</Modal>

@code{
    // reference to the modal component
    private Modal editProjectModal;

    public void ShowModal()
    {
        editProjectModal.Show();
    }

    private void HideModal()
    {
        editProjectModal.Hide();
    }
}